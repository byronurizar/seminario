(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[26],{149:function(e,t,a){"use strict";var n=a(2),r=a(4),c=a(7),o=a.n(c),i=a(0),l=a.n(i),s=a(8),u=l.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,i=e.striped,u=e.bordered,m=e.borderless,d=e.hover,f=e.size,b=e.variant,p=e.responsive,E=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),g=Object(s.b)(a,"table"),v=o()(c,g,b&&g+"-"+b,f&&g+"-"+f,i&&g+"-striped",u&&g+"-bordered",m&&g+"-borderless",d&&g+"-hover"),h=l.a.createElement("table",Object(n.a)({},E,{className:v,ref:t}));if(p){var I=g+"-responsive";return"string"===typeof p&&(I=I+"-"+p),l.a.createElement("div",{className:I},h)}return h}));t.a=u},465:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),i=a(10),l=a(11),s=a(76),u=a(21),m=a(476),d=a(78),f=a(149),b=a(42),p=a.n(b),E=a(41),g=a.n(E),v=a(23),h=a(15),I=a(13),O=a(12),j=a(522),N=a(28),x=a(9),y=a(19),w=a(17),C=function(e){var t=e.dataInicial,a=e.abrirModal,c=e.setAbrirModal,s=e.GetRegiones,m=Object(y.a)(t),d=Object(l.a)(m,2),f=d[0],b=d[1],p=Object(n.useState)(!1),E=Object(l.a)(p,2),g=E[0],v=E[1],h=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)("region",{method:"POST",body:JSON.stringify(f)});case 2:e.sent&&(Object(O.b)("La regi\xf3n fue registrada exitosamente"),s(),c(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)("region",{method:"PUT",body:JSON.stringify(f)});case 2:(t=e.sent)&&(Object(O.b)(t),s()),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(!0),!(t.regionId>0)){e.next=7;break}return e.next=5,C();case 5:e.next=9;break;case 7:return e.next=9,h();case 9:v(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(j.a,{show:a,onHide:function(){return c(!1)}},!0===g?r.a.createElement(w.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,{as:"h5"},t.regionId>0?"Actualizar Informaci\xf3n de la Regi\xf3n":"Registrar Nueva Regi\xf3n")),r.a.createElement(j.a.Body,null,r.a.createElement(x.ValidationForm,{onSubmit:k,onErrorSubmit:function(e,t,a){Object(O.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},r.a.createElement(N.a.Row,null,t.regionId<=0&&r.a.createElement(N.a.Group,{as:u.a,md:"12"},r.a.createElement(N.a.Label,{htmlFor:"regionId"},"C\xf3digo"),r.a.createElement(x.TextInput,{name:"regionId",id:"regionId",required:!0,value:f.regionId,onChange:b,errorMessage:"Campo obligatorio",placeholder:"C\xf3digo",autoComplete:"off",type:"numer"})),r.a.createElement(N.a.Group,{as:u.a,md:"12"},r.a.createElement(N.a.Label,{htmlFor:"descripcion"},"Nombre"),r.a.createElement(x.TextInput,{name:"descripcion",id:"descripcion",required:!0,value:f.descripcion,onChange:b,errorMessage:"Campo obligatorio",placeholder:"Nombre",style:{textTransform:"capitalize"},autoComplete:"off",minLength:"5",type:"text"})),t.regionId>0&&r.a.createElement(N.a.Group,{as:u.a,md:"12"},r.a.createElement(N.a.Label,{htmlFor:"estadoId"},"Estado"),r.a.createElement(x.SelectGroup,{name:"estadoId",id:"estadoId",value:f.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:b},r.a.createElement("option",{value:""},"Seleccione un estado"),r.a.createElement("option",{value:"1"},"Activo"),r.a.createElement("option",{value:"2"},"Inactivo"))),r.a.createElement("div",{className:"col-sm-3"}),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{type:"button",onClick:function(){c(!1)},className:"btn btn-warning"}," Cancelar")),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.regionId>0?"Actualizar":"Registrar")))))))},k=a(87),S=function(){var e=Object(v.d)((function(e){return e})),t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],b=a[1],E=Object(n.useState)([]),j=Object(l.a)(E,2),N=j[0],x=j[1],y=Object(n.useState)(!1),S=Object(l.a)(y,2),R=S[0],A=S[1],T=Object(n.useState)([]),z=Object(l.a)(T,2),G=z[0],M=z[1],F={regionId:"",descripcion:"",estadoId:1},L=Object(n.useState)(F),q=Object(l.a)(L,2),B=q[0],P=q[1],H=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.find((function(e){return 3===e.accesoId}))){e.next=6;break}return b(!0),e.next=4,Object(I.a)("region?estadoId=1;2");case 4:(t=e.sent)&&M(t);case 6:b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(null===e||void 0===e?void 0:e.accesos){var t=e.accesos.filter((function(e){return 8===e.menuId}));x(t)}b(!1)}()}),[]),Object(n.useEffect)((function(){H()}),[N]),r.a.createElement(h.a,null,r.a.createElement(s.a,{className:"btn-page"},r.a.createElement(u.a,{sm:12},r.a.createElement(m.a,null,r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Title,{as:"h5"},"Regiones de Guatemala")),r.a.createElement(m.a.Body,null,!0===c?r.a.createElement(w.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:"align-items-center m-l-0"},r.a.createElement(u.a,null),r.a.createElement(u.a,{className:"text-right"},N.find((function(e){return 1===e.accesoId}))&&r.a.createElement(d.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){A(!0),P(F)}},r.a.createElement("i",{className:"feather icon-plus"})," Agregar Regi\xf3n"))),N.find((function(e){return 3===e.accesoId}))?r.a.createElement(f.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"table_dentificaciones_persona"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"C\xf3digo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Estado"),N.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("th",null))),r.a.createElement("tbody",null,G.map((function(e){var t=e.regionId,a=e.descripcion,n=e.Estado.descripcion;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),N.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("td",{style:{textAlign:"center"}},N.find((function(e){return 2===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=G.find((function(t){return t.regionId===e})),a=t.regionId,n=t.descripcion,r=t.estadoId;P({regionId:a,descripcion:n,estadoId:r}),A(!0)}(t)}},r.a.createElement("i",{className:"feather icon-edit"})),N.find((function(e){return 4===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=t,g()(p.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var t=Object(i.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=8;break}return t.next=4,Object(I.a)("region/".concat(e),{method:"DELETE"});case 4:(n=t.sent)&&(Object(O.b)(n),H()),t.next=9;break;case 8:Object(O.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},r.a.createElement("i",{className:"feather icon-trash-2"}))))})))):r.a.createElement(k.a,null)),!0===R&&r.a.createElement(C,{abrirModal:R,setAbrirModal:A,GetRegiones:H,dataInicial:B}))))))};t.default=function(){return r.a.createElement(S,null)}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),c=a(76),o=a(21),i=a(514),l=a(15),s=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{variant:"danger"},r.a.createElement(i.a.Heading,{as:"h4"},"Informaci\xf3n!"),r.a.createElement("p",null,"No esta autorizado para poder visualizar los elementos"),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Comuniquese con el administrador para la asignaci\xf3n de permisos")))))}}}]);
//# sourceMappingURL=26.f519a6d4.chunk.js.map