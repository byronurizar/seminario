(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[33],{460:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(0),c=a.n(r),o=a(76),i=a(21),l=a(476),u=a(527),s=a(526),d=a(15),m=a(5),f=a(3),p=a.n(f),b=a(10),E=a(158),I=a.n(E),v=a(28),h=a(78),O=a(9),j=a(23),g=a(390),x=a.n(g),y=a(107),_=a.n(y),N=a(19),k=a(13),S=a(12),w=a(87),C=a(17),T=function(e){var t=e.handleSetIdPersona,a=e.personaId,o=Object(j.d)((function(e){return e})),u=Object(r.useState)(!0),s=Object(n.a)(u,2),d=s[0],f=s[1],E=Object(r.useState)([]),g=Object(n.a)(E,2),y=g[0],T=g[1],M=Object(N.a)({nombre1:"",nombre2:"",nombre_otros:"",apellido1:"",apellido2:"",apellido_casada:"",fecha_nacimiento:"",email:"",generoId:"",estadoId:1}),G=Object(n.a)(M,4),A=G[0],F=G[1],D=G[3],L=Object(r.useState)(!0),P=Object(n.a)(L,2),q=P[0],B=P[1],z=Object(r.useState)(""),H=Object(n.a)(z,2),R=H[0],J=H[1],K=function(){var e=Object(b.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona",{method:"POST",body:JSON.stringify(A)});case 2:(a=e.sent)&&(Object(S.b)("Persona registrada exitosamente"),n=a.personaId,t(n),B(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona",{method:"PUT",body:JSON.stringify(A)});case 2:(t=e.sent)&&(Object(S.b)(t),B(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f(!0),!(a>0)){e.next=7;break}return e.next=5,U();case 5:e.next=9;break;case 7:return e.next=9,K();case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=7;break}if(!y.find((function(e){return 3===e.accesoId}))){e.next=7;break}return f(!0),e.next=5,Object(k.a)("persona?id=".concat(t,"&include=0"));case 5:(a=e.sent)&&(D(a[0]),J(new Date(a[0].fecha_nacimiento)),B(!1));case 7:f(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(){if(null===o||void 0===o?void 0:o.accesos){var e=o.accesos.filter((function(e){return 12===e.menuId}));T(e)}f(!1)}()}),[o.accesos]),Object(r.useEffect)((function(){a&&Y(a)}),[a,y]);var Q="Campo obligatorio";return c.a.createElement(c.a.Fragment,null,!0===d?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,y.find((function(e){return 1===e.accesoId||2===e.accesoId}))?c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,{as:"h5"},"Datos Personales")),c.a.createElement(l.a.Body,null,c.a.createElement(O.ValidationForm,{onSubmit:V,onErrorSubmit:function(e,t,a){Object(S.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},c.a.createElement(v.a.Row,null,c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"nombre1"},"Primer Nombre"),c.a.createElement(O.TextInput,{name:"nombre1",id:"nombre1",errorMessage:Q,placeholder:"Primer Nombre",required:!0,value:A.nombre1,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"uppercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"nombre2"},"Segundo Nombre"),c.a.createElement(O.TextInput,{name:"nombre2",id:"nombre2",placeholder:"Segundo Nombre",value:A.nombre2,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"uppercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"nombre_otros"},"Otros Nombres"),c.a.createElement(O.TextInput,{name:"nombre_otros",id:"nombre_otros",placeholder:"Otros Nombres",value:A.nombre_otros,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"uppercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"apellido1"},"Primer Apellido"),c.a.createElement(O.TextInput,{name:"apellido1",id:"apellido1",placeholder:"Primer Apellido",errorMessage:Q,required:!0,value:A.apellido1,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"uppercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"apellido2"},"Segundo Apellido"),c.a.createElement(O.TextInput,{name:"apellido2",id:"apellido2",placeholder:"Segundo Apellido",value:A.apellido2,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"uppercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"apellido_casada"},"Apellido de Casada"),c.a.createElement(O.TextInput,{name:"apellido_casada",id:"apellido_casada",placeholder:"Apellido de Casada",value:A.apellido_casada,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"uppercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"fecha_nacimiento"},"Fecha de Nacimiento"),c.a.createElement("div",{className:"form-group"},c.a.createElement(I.a,{id:"fecha_nacimiento",name:"fecha_nacimiento",dateFormat:"dd/MM/yyyy",selected:R,onChange:function(e){var t=_()(e).format("YYYY/MM/DD");D(Object(m.a)({},A,{fecha_nacimiento:t})),J(e)},required:!0,errorMessage:Q,className:"form-control",placeholderText:"dd/MM/yyyy",autoComplete:"off",maxDate:new Date,readOnly:!q}))),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"email"},"Correo Electr\xf3nico"),c.a.createElement(O.TextInput,{name:"email",id:"email",type:"email",placeholder:"Correo Electr\xf3nico",validator:x.a.isEmail,required:!0,errorMessage:{validator:"Por favor ingrese un correo v\xe1lido"},value:A.email,onChange:F,autoComplete:"off",readOnly:!q,style:{textTransform:"lowercase"}})),c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"generoId"},"G\xe9nero"),c.a.createElement(O.SelectGroup,{name:"generoId",id:"generoId",value:A.generoId,disabled:!q,required:!0,errorMessage:Q,onChange:F},c.a.createElement("option",{value:""},"Seleccione un g\xe9nero"),c.a.createElement("option",{value:"1"},"Masculino"),c.a.createElement("option",{value:"2"},"Femenino"))),a>0&&c.a.createElement(v.a.Group,{as:i.a,md:"6"},c.a.createElement(v.a.Label,{htmlFor:"estadoId"},"Estado"),c.a.createElement(O.SelectGroup,{name:"estadoId",id:"estadoId",value:A.estadoId,disabled:!q,required:!0,errorMessage:Q,onChange:F},c.a.createElement("option",{value:""},"Seleccione un estado"),c.a.createElement("option",{value:"1"},"Activo"),c.a.createElement("option",{value:"2"},"Inactivo"))),c.a.createElement(v.a.Group,{as:i.a,sm:12,className:"mt-3"},c.a.createElement(h.a,{type:"submit",className:"btn btn-primary mr-2",disabled:!q&&a>0},a>0?"Actualizar":"Registrar"),a>0&&c.a.createElement(h.a,{type:"button",className:"btn btn-success",disabled:q,onClick:function(){B(!q)}},"Editar")))))):c.a.createElement(w.a,null)))},M=a(149),G=a(42),A=a.n(G),F=a(41),D=a.n(F),L=a(522),P=function(e){var t=e.dataInicial,a=e.personaId,o=e.abrirModal,l=e.setAbrirModal,u=e.catTipoDocumento,s=e.GetIdentificaciones,d=Object(N.a)(t),m=Object(n.a)(d,2),f=m[0],E=m[1],I=Object(r.useState)(!1),h=Object(n.a)(I,2),j=h[0],g=h[1],x=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/identificacion",{method:"POST",body:JSON.stringify(f)});case 2:e.sent&&(Object(S.b)("Documento de identificaci\xf3n registrado exitosamente"),s(a),l(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/identificacion",{method:"PUT",body:JSON.stringify(f)});case 2:(t=e.sent)&&(Object(S.b)(t),s(a)),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g(!0),!(t.identificacion_personaId>0)){e.next=7;break}return e.next=5,y();case 5:e.next=9;break;case 7:return e.next=9,x();case 9:g(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(L.a,{show:o,onHide:function(){return l(!1)}},!0===j?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a.Header,{closeButton:!0},c.a.createElement(L.a.Title,{as:"h5"},t.identificacion_personaId>0?"Actualizar documento":"Nuevo Documento")),c.a.createElement(L.a.Body,null,c.a.createElement(O.ValidationForm,{onSubmit:_,onErrorSubmit:function(e,t,a){Object(S.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},c.a.createElement(v.a.Row,null,c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"tipo_documentoId"},"Tipo Identificaci\xf3n"),c.a.createElement(O.SelectGroup,{name:"tipo_documentoId",id:"tipo_documentoId",required:!0,value:f.tipo_documentoId,onChange:E,errorMessage:"Campo obligatorio"},c.a.createElement("option",{value:""},"Seleccione un tipo de identificaci\xf3n"),u.map((function(e){var t=e.tipo_documentoId,a=e.descripcion;return c.a.createElement("option",{value:t,key:t},a)})))),c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"numero_identificacion"},"N\xfamero de Identificaci\xf3n"),c.a.createElement(O.TextInput,{name:"numero_identificacion",id:"numero_identificacion",required:!0,value:f.numero_identificacion,onChange:E,errorMessage:"Campo obligatorio",minLength:"1"===f.tipo_documentoId?"13":"0",placeholder:"N\xfamero de identificaci\xf3n",autoComplete:"off",type:"number"})),t.identificacion_personaId>0&&c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"estadoId"},"Estado"),c.a.createElement(O.SelectGroup,{name:"estadoId",id:"estadoId",value:f.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:E},c.a.createElement("option",{value:""},"Seleccione un estado"),c.a.createElement("option",{value:"1"},"Activo"),c.a.createElement("option",{value:"2"},"Inactivo"))),c.a.createElement("div",{className:"col-sm-3"}),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"button",onClick:function(){l(!1)},className:"btn btn-warning"}," Cancelar")),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.identificacion_personaId>0?"Actualizar":"Registrar")))))))},q=function(e){var t=e.personaId,a=Object(j.d)((function(e){return e})),u=Object(r.useState)(!0),s=Object(n.a)(u,2),m=s[0],f=s[1],E=Object(r.useState)([]),I=Object(n.a)(E,2),v=I[0],O=I[1],g=Object(r.useState)(!1),x=Object(n.a)(g,2),y=x[0],_=x[1],N=Object(r.useState)([]),T=Object(n.a)(N,2),G=T[0],F=T[1],L=Object(r.useState)([]),q=Object(n.a)(L,2),B=q[0],z=q[1],H={personaId:t,tipo_documentoId:"",numero_identificacion:"",estadoId:1},R=Object(r.useState)(H),J=Object(n.a)(R,2),K=J[0],U=J[1],V=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 5===e.menuId&&3===e.accesoId}))){e.next=8;break}return f(!0),e.next=4,Object(k.a)("tipodocumento?estadoId=1&include=0");case 4:(t=e.sent)&&F(t),e.next=9;break;case 8:F([{tipo_documentoId:"",descripcion:"No esta autorizado"}]);case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 13===e.menuId&&3===e.accesoId}))){e.next=6;break}return f(!0),e.next=4,Object(k.a)("persona/identificacion?personaId=".concat(t,"&estadoId=1;2"));case 4:(a=e.sent)&&z(a);case 6:f(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){if(null===a||void 0===a?void 0:a.accesos){var e=a.accesos.filter((function(e){return 13===e.menuId||5===e.menuId}));O(e)}f(!1)}()}),[]),Object(r.useEffect)((function(){V(),t&&Y(t)}),[t,v]),c.a.createElement(d.a,null,c.a.createElement(o.a,{className:"btn-page"},c.a.createElement(i.a,{sm:12},c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,{as:"h5"},"Documentos de identificaci\xf3n")),c.a.createElement(l.a.Body,null,!0===m?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"align-items-center m-l-0"},c.a.createElement(i.a,null),c.a.createElement(i.a,{className:"text-right"},v.find((function(e){return 13===e.menuId&&1===e.accesoId}))&&c.a.createElement(h.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){_(!0),U(H)}},c.a.createElement("i",{className:"feather icon-plus"})," Agregar documento"))),v.find((function(e){return 13===e.menuId&&3===e.accesoId}))?c.a.createElement(M.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"table_dentificaciones_persona"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"No."),c.a.createElement("th",null,"Tipo"),c.a.createElement("th",null,"N\xfamero"),c.a.createElement("th",null,"Estado"),v.find((function(e){return 13===e.menuId&&2===e.accesoId||13===e.menuId&&4===e.accesoId}))&&c.a.createElement("th",null))),c.a.createElement("tbody",null,B.map((function(e){var a=e.identificacion_personaId,n=e.TipoDocumento.descripcion,r=e.numero_identificacion,o=e.Estado.descripcion;return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,o),v.find((function(e){return 13===e.menuId&&2===e.accesoId||13===e.menuId&&4===e.accesoId}))&&c.a.createElement("td",{style:{textAlign:"center"}},v.find((function(e){return 13===e.menuId&&2===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=B.find((function(t){return t.identificacion_personaId===e})),a=t.identificacion_personaId,n=t.tipo_documentoId,r=t.numero_identificacion,c=t.estadoId;U({identificacion_personaId:a,tipo_documentoId:n,numero_identificacion:r,estadoId:c}),_(!0)}(a)}},c.a.createElement("i",{className:"feather icon-edit"})),v.find((function(e){return 13===e.menuId&&4===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=a,D()(A.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var a=Object(b.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.value){a.next=8;break}return a.next=4,Object(k.a)("persona/identificacion/".concat(e),{method:"DELETE"});case 4:(r=a.sent)&&(Object(S.b)(r),Y(t)),a.next=9;break;case 8:Object(S.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},c.a.createElement("i",{className:"feather icon-trash-2"}))))})))):c.a.createElement(w.a,null)),!0===y&&c.a.createElement(P,{abrirModal:y,setAbrirModal:_,catTipoDocumento:G,personaId:t,GetIdentificaciones:Y,dataInicial:K}))))))},B=function(e){var t=e.dataInicial,a=e.personaId,o=e.abrirModal,l=e.setAbrirModal,u=e.catDepartamento,s=e.GetDirecciones,d=Object(j.d)((function(e){return e})),m=Object(r.useState)([]),f=Object(n.a)(m,2),E=f[0],I=f[1],h=Object(r.useState)(!1),g=Object(n.a)(h,2),x=g[0],y=g[1],_=Object(N.a)(t),w=Object(n.a)(_,2),T=w[0],M=w[1],G=Object(r.useState)(""),A=Object(n.a)(G,2),F=A[0],D=A[1],P=Object(r.useState)([]),q=Object(n.a)(P,2),B=q[0],z=q[1],H=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/direccion",{method:"POST",body:JSON.stringify(T)});case 2:e.sent&&(Object(S.b)("Direcci\xf3n registrada exitosamente"),s(a),l(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/direccion",{method:"PUT",body:JSON.stringify(T)});case 2:(t=e.sent)&&(Object(S.b)(t),s(a)),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){t.departamentoId&&D(t.departamentoId)}),[t.departamentoId]);var J=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),y(!0),!(t.direccion_personaId>0)){e.next=7;break}return e.next=5,R();case 5:e.next=9;break;case 7:return e.next=9,H();case 9:y(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=10;break}if(!E.find((function(e){return 10===e.menuId&&3===e.accesoId}))){e.next=9;break}return y(!0),e.next=5,Object(k.a)("municipio?departamentoId=".concat(t,"&estadoId=1&include=0"));case 5:(a=e.sent)&&z(a),e.next=10;break;case 9:z([{municipioId:"",descripcion:"No esta autorizado"}]);case 10:y(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(){if(null===d||void 0===d?void 0:d.accesos){var e=d.accesos.filter((function(e){return 10===e.menuId}));I(e)}}()}),[]),Object(r.useEffect)((function(){K(F)}),[F,E]);var U="Campo obligatorio";return c.a.createElement(L.a,{show:o,onHide:function(){return l(!1)},size:"lg"},!0===x?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a.Header,{closeButton:!0},c.a.createElement(L.a.Title,{as:"h5"},t.direccion_personaId>0?"Actualizar direcci\xf3n":"Nueva direcci\xf3n")),c.a.createElement(L.a.Body,null,c.a.createElement(O.ValidationForm,{onSubmit:J,onErrorSubmit:function(e,t,a){Object(S.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},c.a.createElement(v.a.Row,null,c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"departamentoId"},"Departamento"),c.a.createElement(O.SelectGroup,{name:"departamentoId",id:"departamentoId",required:!0,value:F,onChange:function(e){var t=e.target;D(t.value)},errorMessage:U},c.a.createElement("option",{value:""},"Seleccione un departamento"),u.map((function(e){var t=e.departamentoId,a=e.descripcion;return c.a.createElement("option",{value:t,key:t},a)})))),c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"municipioId"},"Municipio"),c.a.createElement(O.SelectGroup,{name:"municipioId",id:"municipioId",required:!0,value:T.municipioId,onChange:M,errorMessage:U},c.a.createElement("option",{value:""},"Seleccione un municipio"),B.map((function(e){var t=e.municipioId,a=e.descripcion;return c.a.createElement("option",{value:t,key:t},a)})))),c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"direccion"},"Direcci\xf3n"),c.a.createElement(O.TextInput,{name:"direccion",id:"direccion",required:!0,multiline:!0,value:T.direccion,onChange:M,errorMessage:U,placeholder:"Direcci\xf3n",autoComplete:"off",rows:"3",minLength:"5",style:{textTransform:"capitalize"}})),c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"punto_referencia"},"Punto de referencia"),c.a.createElement(O.TextInput,{name:"punto_referencia",id:"punto_referencia",required:!0,multiline:!0,value:T.punto_referencia,onChange:M,errorMessage:U,placeholder:"Punto de referencia",autoComplete:"off",rows:"3",minLength:"5",style:{textTransform:"capitalize"}})),t.direccion_personaId>0&&c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"estadoId"},"Estado"),c.a.createElement(O.SelectGroup,{name:"estadoId",id:"estadoId",value:T.estadoId,required:!0,errorMessage:U,onChange:M},c.a.createElement("option",{value:""},"Seleccione un estado"),c.a.createElement("option",{value:"1"},"Activo"),c.a.createElement("option",{value:"2"},"Inactivo"))),c.a.createElement("div",{className:"col-sm-3"}),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"button",onClick:function(){l(!1)},className:"btn btn-warning"}," Cancelar")),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.direccion_personaId>0?"Actualizar":"Registrar")))))))},z=function(e){var t=e.personaId,a=Object(j.d)((function(e){return e})),u=Object(r.useState)(!0),s=Object(n.a)(u,2),m=s[0],f=s[1],E=Object(r.useState)([]),I=Object(n.a)(E,2),v=I[0],O=I[1],g=Object(r.useState)(!1),x=Object(n.a)(g,2),y=x[0],_=x[1],N=Object(r.useState)([]),T=Object(n.a)(N,2),G=T[0],F=T[1],L=Object(r.useState)([]),P=Object(n.a)(L,2),q=P[0],z=P[1],H={personaId:t,municipioId:"",direccion:"",punto_referencia:"",estadoId:1},R=Object(r.useState)(H),J=Object(n.a)(R,2),K=J[0],U=J[1],V=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 9===e.menuId&&3===e.accesoId}))){e.next=8;break}return f(!0),e.next=4,Object(k.a)("departamento?estadoId=1&include=0");case 4:(t=e.sent)&&F(t),e.next=9;break;case 8:F([{departamentoId:"",descripcion:"No esta autorizado"}]);case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 15===e.menuId&&3===e.accesoId}))){e.next=6;break}return f(!0),e.next=4,Object(k.a)("persona/direccion?personaId=".concat(t,"&estadoId=1;2"));case 4:(a=e.sent)&&z(a);case 6:f(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){if(null===a||void 0===a?void 0:a.accesos){var e=a.accesos.filter((function(e){return 15===e.menuId||9===e.menuId}));O(e)}f(!1)}()}),[]),Object(r.useEffect)((function(){V(),t&&Y(t)}),[t,v]),c.a.createElement(d.a,null,c.a.createElement(o.a,{className:"btn-page"},c.a.createElement(i.a,{sm:12},c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,{as:"h5"},"Direcciones")),c.a.createElement(l.a.Body,null,!0===m?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"align-items-center m-l-0"},c.a.createElement(i.a,null),c.a.createElement(i.a,{className:"text-right"},v.find((function(e){return 15===e.menuId&&1===e.accesoId}))&&c.a.createElement(h.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){_(!0),U(H)}},c.a.createElement("i",{className:"feather icon-plus"})," Agregar direcci\xf3n"))),v.find((function(e){return 15===e.menuId&&3===e.accesoId}))?c.a.createElement(M.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"table_dentificaciones_persona"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"No."),c.a.createElement("th",null,"Departamento"),c.a.createElement("th",null,"Municipio"),c.a.createElement("th",null,"Direccion"),c.a.createElement("th",null,"Punto de Referencia"),c.a.createElement("th",null,"Estado"),v.find((function(e){return 15===e.menuId&&2===e.accesoId||15===e.menuId&&4===e.accesoId}))&&c.a.createElement("th",null))),c.a.createElement("tbody",null,q.map((function(e){var a=e.direccion_personaId,n=e.direccion,r=e.punto_referencia,o=e.Municipio,i=o.descripcion,l=o.Departamento.descripcion,u=e.Estado.descripcion;return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a),c.a.createElement("td",null,l),c.a.createElement("td",null,i),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,u),v.find((function(e){return 15===e.menuId&&2===e.accesoId||15===e.menuId&&4===e.accesoId}))&&c.a.createElement("td",{style:{textAlign:"center"}},v.find((function(e){return 15===e.menuId&&2===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=q.find((function(t){return t.direccion_personaId===e})),a=t.direccion_personaId,n=t.municipioId,r=t.direccion,c=t.punto_referencia,o=t.estadoId,i=t.Municipio.Departamento.departamentoId;U({direccion_personaId:a,municipioId:n,direccion:r,punto_referencia:c,departamentoId:i,estadoId:o}),_(!0)}(a)}},c.a.createElement("i",{className:"feather icon-edit"})),v.find((function(e){return 15===e.menuId&&4===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=a,D()(A.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var a=Object(b.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.value){a.next=8;break}return a.next=4,Object(k.a)("persona/direccion/".concat(e,"&estadoId=1;2"),{method:"DELETE"});case 4:(r=a.sent)&&(Object(S.b)(r),Y(t)),a.next=9;break;case 8:Object(S.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},c.a.createElement("i",{className:"feather icon-trash-2"}))))})))):c.a.createElement(w.a,null)),!0===y&&c.a.createElement(B,{abrirModal:y,setAbrirModal:_,catDepartamento:G,personaId:t,GetDirecciones:Y,dataInicial:K}))))))},H=function(e){var t=e.dataInicial,a=e.personaId,o=e.abrirModal,l=e.setAbrirModal,u=e.catTipoTelefono,s=e.GetTelefonos,d=Object(N.a)(t),m=Object(n.a)(d,2),f=m[0],E=m[1],I=Object(r.useState)(!1),h=Object(n.a)(I,2),j=h[0],g=h[1],x=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/telefono",{method:"POST",body:JSON.stringify(f)});case 2:e.sent&&(Object(S.b)("N\xfamero de tel\xe9fono registrado exitosamente"),s(a),l(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/telefono",{method:"PUT",body:JSON.stringify(f)});case 2:(t=e.sent)&&(Object(S.b)(t),s(a)),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g(!0),!(t.telefono_personaId>0)){e.next=7;break}return e.next=5,y();case 5:e.next=9;break;case 7:return e.next=9,x();case 9:g(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(L.a,{show:o,onHide:function(){return l(!1)}},!0===j?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a.Header,{closeButton:!0},c.a.createElement(L.a.Title,{as:"h5"},t.telefono_personaId>0?"Actualizar tel\xe9fono":"Nuevo tel\xe9fono")),c.a.createElement(L.a.Body,null,c.a.createElement(O.ValidationForm,{onSubmit:_,onErrorSubmit:function(e,t,a){Object(S.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},c.a.createElement(v.a.Row,null,c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"tipo_telefonoId"},"Tipo Identificaci\xf3n"),c.a.createElement(O.SelectGroup,{name:"tipo_telefonoId",id:"tipo_telefonoId",required:!0,value:f.tipo_telefonoId,onChange:E,errorMessage:"Campo obligatorio"},c.a.createElement("option",{value:""},"Seleccione un tipo de tel\xe9fono"),u.map((function(e){var t=e.tipo_telefonoId,a=e.descripcion;return c.a.createElement("option",{value:t,key:t},a)})))),c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"telefono"},"N\xfamero de tel\xe9fono"),c.a.createElement(O.TextInput,{name:"telefono",id:"telefono",required:!0,value:f.telefono,onChange:E,errorMessage:"Campo obligatorio",placeholder:"N\xfamero de tel\xe9fono",autoComplete:"off",minLength:"8",type:"number"})),t.telefono_personaId>0&&c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"estadoId"},"Estado"),c.a.createElement(O.SelectGroup,{name:"estadoId",id:"estadoId",value:f.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:E},c.a.createElement("option",{value:""},"Seleccione un estado"),c.a.createElement("option",{value:"1"},"Activo"),c.a.createElement("option",{value:"2"},"Inactivo"))),c.a.createElement("div",{className:"col-sm-3"}),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"button",onClick:function(){l(!1)},className:"btn btn-warning"}," Cancelar")),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.telefono_personaId>0?"Actualizar":"Registrar")))))))},R=function(e){var t=e.personaId,a=Object(j.d)((function(e){return e})),u=Object(r.useState)([]),s=Object(n.a)(u,2),m=s[0],f=s[1],E=Object(r.useState)(!0),I=Object(n.a)(E,2),v=I[0],O=I[1],g=Object(r.useState)(!1),x=Object(n.a)(g,2),y=x[0],_=x[1],N=Object(r.useState)([]),T=Object(n.a)(N,2),G=T[0],F=T[1],L=Object(r.useState)([]),P=Object(n.a)(L,2),q=P[0],B=P[1],z={personaId:t,tipo_telefonoId:"",telefono:"",estadoId:1},R=Object(r.useState)(z),J=Object(n.a)(R,2),K=J[0],U=J[1],V=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.find((function(e){return 7===e.menuId&&3===e.accesoId}))){e.next=8;break}return O(!0),e.next=4,Object(k.a)("tipotelefono?estadoId=1&include=0");case 4:(t=e.sent)&&F(t),e.next=9;break;case 8:F([{tipo_telefonoId:"",descripcion:"No esta autorizado"}]);case 9:O(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.find((function(e){return 14===e.menuId&&3===e.accesoId}))){e.next=6;break}return O(!0),e.next=4,Object(k.a)("persona/telefono?personaId=".concat(t,"&estadoId=1;2"));case 4:(a=e.sent)&&B(a);case 6:O(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){if(null===a||void 0===a?void 0:a.accesos){var e=a.accesos.filter((function(e){return 14===e.menuId||7===e.menuId}));f(e)}O(!1)}()}),[]),Object(r.useEffect)((function(){V(),t&&Y(t)}),[t,m]),c.a.createElement(d.a,null,c.a.createElement(o.a,{className:"btn-page"},c.a.createElement(i.a,{sm:12},c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,{as:"h5"},"Documentos de identificaci\xf3n")),c.a.createElement(l.a.Body,null,!0===v?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"align-items-center m-l-0"},c.a.createElement(i.a,null),c.a.createElement(i.a,{className:"text-right"},m.find((function(e){return 14===e.menuId&&1===e.accesoId}))&&c.a.createElement(h.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){_(!0),U(z)}},c.a.createElement("i",{className:"feather icon-plus"})," Agregar tel\xe9fono"))),m.find((function(e){return 14===e.menuId&&3===e.accesoId}))?c.a.createElement(M.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"table_dentificaciones_persona"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"No."),c.a.createElement("th",null,"Tipo"),c.a.createElement("th",null,"N\xfamero"),c.a.createElement("th",null,"Estado"),m.find((function(e){return 14===e.menuId&&2===e.accesoId||14===e.menuId&&4===e.accesoId}))&&c.a.createElement("th",null))),c.a.createElement("tbody",null,q.map((function(e){var a=e.telefono_personaId,n=e.TipoTelefono.descripcion,r=e.telefono,o=e.Estado.descripcion;return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a),c.a.createElement("td",null,n),c.a.createElement("td",null,r),c.a.createElement("td",null,o),m.find((function(e){return 14===e.menuId&&2===e.accesoId||14===e.menuId&&4===e.accesoId}))&&c.a.createElement("td",{style:{textAlign:"center"}},m.find((function(e){return 14===e.menuId&&2===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=q.find((function(t){return t.telefono_personaId===e})),a=t.telefono_personaId,n=t.tipo_telefonoId,r=t.telefono,c=t.estadoId;U({telefono_personaId:a,tipo_telefonoId:n,telefono:r,estadoId:c}),_(!0)}(a)}},c.a.createElement("i",{className:"feather icon-edit"})),m.find((function(e){return 14===e.menuId&&4===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=a,D()(A.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var a=Object(b.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.value){a.next=8;break}return a.next=4,Object(k.a)("persona/telefono/".concat(e),{method:"DELETE"});case 4:(r=a.sent)&&(Object(S.b)(r),Y(t)),a.next=9;break;case 8:Object(S.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},c.a.createElement("i",{className:"feather icon-trash-2"}))))})))):c.a.createElement(w.a,null)),!0===y&&c.a.createElement(H,{abrirModal:y,setAbrirModal:_,catTipoTelefono:G,personaId:t,GetTelefonos:Y,dataInicial:K}))))))},J=function(e){var t=e.dataInicial,a=e.personaId,o=e.abrirModal,l=e.setAbrirModal,u=e.catTipoSangre,s=e.catEstadoCivil,d=e.GetDatoExtra,m=Object(N.a)(t),f=Object(n.a)(m,2),E=f[0],I=f[1],h=Object(r.useState)(!1),j=Object(n.a)(h,2),g=j[0],x=j[1],y=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/datoextra",{method:"POST",body:JSON.stringify(E)});case 2:e.sent&&(Object(S.b)("Informaci\xf3n adicional registrada exitosamente"),d(a),l(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("persona/datoextra",{method:"PUT",body:JSON.stringify(E)});case 2:(t=e.sent)&&(Object(S.b)(t),d(a)),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(!0),!(t.dato_extra_personaId>0)){e.next=7;break}return e.next=5,_();case 5:e.next=9;break;case 7:return e.next=9,y();case 9:x(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(L.a,{show:o,onHide:function(){return l(!1)}},!0===g?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a.Header,{closeButton:!0},c.a.createElement(L.a.Title,{as:"h5"},t.dato_extra_personaId>0?"Actualizar informaci\xf3n adicional":"Registrar informaci\xf3n adicional")),c.a.createElement(L.a.Body,null,c.a.createElement(O.ValidationForm,{onSubmit:w,onErrorSubmit:function(e,t,a){Object(S.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},c.a.createElement(v.a.Row,null,c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"tipo_sangreId"},"Tipo sangre"),c.a.createElement(O.SelectGroup,{name:"tipo_sangreId",id:"tipo_sangreId",value:E.tipo_sangreId,onChange:I,required:!0,errorMessage:"Campo obligatorio"},c.a.createElement("option",{value:""},"Seleccione un tipo de sangre"),u.map((function(e){var t=e.tipo_sangreId,a=e.descripcion;return c.a.createElement("option",{value:t,key:t},a)})))),c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"estado_civilId"},"Estado civil"),c.a.createElement(O.SelectGroup,{name:"estado_civilId",id:"estado_civilId",value:E.estado_civilId,onChange:I,required:!0,errorMessage:"Campo obligatorio"},c.a.createElement("option",{value:""},"Seleccione un estado civil"),s.map((function(e){var t=e.estado_civilId,a=e.descripcion;return c.a.createElement("option",{value:t,key:t},a)})))),t.dato_extra_personaId>0&&c.a.createElement(v.a.Group,{as:i.a,md:"12"},c.a.createElement(v.a.Label,{htmlFor:"estadoId"},"Estado"),c.a.createElement(O.SelectGroup,{name:"estadoId",id:"estadoId",value:E.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:I},c.a.createElement("option",{value:""},"Seleccione un estado"),c.a.createElement("option",{value:"1"},"Activo"),c.a.createElement("option",{value:"2"},"Inactivo"))),c.a.createElement("div",{className:"col-sm-3"}),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"button",onClick:function(){l(!1)},className:"btn btn-warning"}," Cancelar")),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.dato_extra_personaId>0?"Actualizar":"Registrar")))))))},K=function(e){var t=e.personaId,a=Object(j.d)((function(e){return e})),u=Object(r.useState)(!0),s=Object(n.a)(u,2),m=s[0],f=s[1],E=Object(r.useState)([]),I=Object(n.a)(E,2),v=I[0],O=I[1],g=Object(r.useState)(!1),x=Object(n.a)(g,2),y=x[0],_=x[1],N=Object(r.useState)([]),T=Object(n.a)(N,2),G=T[0],F=T[1],L=Object(r.useState)([]),P=Object(n.a)(L,2),q=P[0],B=P[1],z=Object(r.useState)([]),H=Object(n.a)(z,2),R=H[0],K=H[1],U={personaId:t,tipo_sangreId:"",estado_civilId:"",estadoId:1},V=Object(r.useState)(U),Y=Object(n.a)(V,2),Q=Y[0],W=Y[1],X=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 6===e.menuId&&3===e.accesoId}))){e.next=8;break}return f(!0),e.next=4,Object(k.a)("tiposangre?estadoId=1&include=0");case 4:(t=e.sent)&&F(t),e.next=9;break;case 8:F([{tipo_sangreId:"",descripcion:"No esta autorizado"}]);case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 4===e.menuId&&3===e.accesoId}))){e.next=8;break}return f(!0),e.next=4,Object(k.a)("estadocivil?estadoId=1&include=0");case 4:(t=e.sent)&&B(t),e.next=9;break;case 8:B([{estado_civilId:"",descripcion:"No esta autorizado"}]);case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.find((function(e){return 16===e.menuId&&3===e.accesoId}))){e.next=7;break}return f(!0),e.next=4,Object(k.a)("persona/datoextra?personaId=".concat(t,"&estadoId=1;2"));case 4:(a=e.sent)&&K(a),f(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){if(null===a||void 0===a?void 0:a.accesos){var e=a.accesos.filter((function(e){return 16===e.menuId||4===e.menuId||6===e.menuId}));O(e)}f(!1)}()}),[]),Object(r.useEffect)((function(){X(),Z(),t&&$(t)}),[t,v]),c.a.createElement(d.a,null,c.a.createElement(o.a,{className:"btn-page"},c.a.createElement(i.a,{sm:12},c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,{as:"h5"},"Informaci\xf3n adicional")),c.a.createElement(l.a.Body,null,!0===m?c.a.createElement(C.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"align-items-center m-l-0"},c.a.createElement(i.a,null),c.a.createElement(i.a,{className:"text-right"},v.find((function(e){return 16===e.menuId&&1===e.accesoId}))&&R.length<=0&&c.a.createElement(h.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){_(!0),W(U)}},c.a.createElement("i",{className:"feather icon-plus"})," Agregar Informaci\xf3n adicional"))),v.find((function(e){return 16===e.menuId&&3===e.accesoId}))?c.a.createElement(M.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"table_dentificaciones_persona"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"No."),c.a.createElement("th",null,"Tipo de Sangre"),c.a.createElement("th",null,"Estado Civil"),c.a.createElement("th",null,"Estado"),v.find((function(e){return 16===e.menuId&&2===e.accesoId||16===e.menuId&&4===e.accesoId}))&&c.a.createElement("th",null))),c.a.createElement("tbody",null,R.map((function(e){var a=e.dato_extra_personaId,n=e.TipoSangre,r=e.EstadoCivil,o=e.Estado.descripcion,i=(!!n&&n).descripcion,l=(!!r&&r).descripcion;return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a),c.a.createElement("td",null,i),c.a.createElement("td",null,l),c.a.createElement("td",null,o),v.find((function(e){return 16===e.menuId&&2===e.accesoId||16===e.menuId&&4===e.accesoId}))&&c.a.createElement("td",{style:{textAlign:"center"}},v.find((function(e){return 16===e.menuId&&2===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=R.find((function(t){return t.dato_extra_personaId===e})),a=t.dato_extra_personaId,n=t.tipo_sangreId,r=t.estado_civilId,c=t.estadoId;W({dato_extra_personaId:a,tipo_sangreId:n,estado_civilId:r,estadoId:c}),_(!0)}(a)}},c.a.createElement("i",{className:"feather icon-edit"})),v.find((function(e){return 16===e.menuId&&4===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=a,D()(A.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var a=Object(b.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.value){a.next=8;break}return a.next=4,Object(k.a)("persona/datoextra/".concat(e),{method:"DELETE"});case 4:(r=a.sent)&&(Object(S.b)(r),$(t)),a.next=9;break;case 8:Object(S.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},c.a.createElement("i",{className:"feather icon-trash-2"}))))})))):c.a.createElement(w.a,null)),!0===y&&c.a.createElement(J,{abrirModal:y,setAbrirModal:_,catTipoSangre:G,catEstadoCivil:q,personaId:t,GetDatoExtra:$,dataInicial:Q}))))))};t.default=function(e){var t=e.match,a=Object(j.d)((function(e){return e})),m=Object(r.useState)([]),f=Object(n.a)(m,2),p=f[0],b=f[1],E=t.params.idpersona;E=E||"";var I=atob(E).split("=")[1],v=Object(r.useState)(I),h=Object(n.a)(v,2),O=h[0],g=h[1];return Object(r.useEffect)((function(){!function(){if(null===a||void 0===a?void 0:a.accesos){var e=a.accesos.filter((function(e){return 12===e.menuId||13===e.menuId||14===e.menuId||15===e.menuId||16===e.menuId}));b(e)}}()}),[]),c.a.createElement(d.a,null,c.a.createElement(o.a,null,c.a.createElement(i.a,null,c.a.createElement(l.a,null,c.a.createElement(l.a.Header,null,c.a.createElement(l.a.Title,{as:"h5"},O>0?"Actualizaci\xf3n de Informaci\xf3n de Persona":"Registro de Informaci\xf3n de Persona")),c.a.createElement(l.a.Body,null,c.a.createElement(u.a.Container,{defaultActiveKey:"persona"},c.a.createElement(o.a,null,c.a.createElement(i.a,{sm:2},c.a.createElement(s.a,{variant:"pills",className:"flex-column"},p.find((function(e){return 12===e.menuId}))&&c.a.createElement(s.a.Item,null,c.a.createElement(s.a.Link,{eventKey:"persona"},"Persona")),p.find((function(e){return 13===e.menuId}))&&c.a.createElement(s.a.Item,null,c.a.createElement(s.a.Link,{eventKey:"identificaciones",disabled:O<=0},"Identificaciones")),p.find((function(e){return 15===e.menuId}))&&c.a.createElement(s.a.Item,null,c.a.createElement(s.a.Link,{eventKey:"direcciones",disabled:O<=0},"Direcciones")),p.find((function(e){return 14===e.menuId}))&&c.a.createElement(s.a.Item,null,c.a.createElement(s.a.Link,{eventKey:"telefonos",disabled:O<=0},"Tel\xe9fonos")),p.find((function(e){return 16===e.menuId}))&&c.a.createElement(s.a.Item,null,c.a.createElement(s.a.Link,{eventKey:"datosExtra",disabled:O<=0},"Informaci\xf3n Adicional")))),c.a.createElement(i.a,{sm:10},c.a.createElement(u.a.Content,null,c.a.createElement(u.a.Pane,{eventKey:"persona"},c.a.createElement(T,{handleSetIdPersona:function(e){g(e)},personaId:O})),c.a.createElement(u.a.Pane,{eventKey:"identificaciones"},c.a.createElement(q,{personaId:O})),c.a.createElement(u.a.Pane,{eventKey:"direcciones"},c.a.createElement(z,{personaId:O})),c.a.createElement(u.a.Pane,{eventKey:"telefonos"},c.a.createElement(R,{personaId:O})),c.a.createElement(u.a.Pane,{eventKey:"datosExtra"},c.a.createElement(K,{personaId:O})))))))))))}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a.n(n),c=a(76),o=a(21),i=a(514),l=a(15),u=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{variant:"danger"},r.a.createElement(i.a.Heading,{as:"h4"},"Informaci\xf3n!"),r.a.createElement("p",null,"No esta autorizado para poder visualizar los elementos"),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Comuniquese con el administrador para la asignaci\xf3n de permisos")))))}}}]);
//# sourceMappingURL=33.446e8c2f.chunk.js.map