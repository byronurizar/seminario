(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[30],{490:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(3),o=a.n(r),i=a(10),l=a(11),s=a(77),u=a(21),m=a(259),d=a(79),p=a(540),f=a(42),b=a.n(f),E=a(23),v=a(41),h=a.n(v),I=a(15),O=a(13),j=a(12),g=a(548),x=a(28),y=a(9),N=a(19),w=a(17),k=function(e){var t=e.dataInicial,a=e.abrirModal,r=e.setAbrirModal,s=e.GetTiposIdentificaciones,m=Object(N.a)(t),d=Object(l.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),v=E[0],h=E[1],I=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("tipodocumento",{method:"POST",body:JSON.stringify(p)});case 2:e.sent&&(Object(j.b)("Tipo de documento de identificaci\xf3n registrado exitosamente"),s(),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("tipodocumento",{method:"PUT",body:JSON.stringify(p)});case 2:(t=e.sent)&&(Object(j.b)(t),s()),r(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),h(!0),!(t.tipo_documentoId>0)){e.next=7;break}return e.next=5,k();case 5:e.next=9;break;case 7:return e.next=9,I();case 9:h(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(g.a,{show:a,onHide:function(){return r(!1)}},!0===v?c.a.createElement(w.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a.Header,{closeButton:!0},c.a.createElement(g.a.Title,{as:"h5"},t.tipo_documentoId>0?"Actualizar Tipo Documento":"Nuevo Tipo de Documento")),c.a.createElement(g.a.Body,null,c.a.createElement(y.ValidationForm,{onSubmit:C,onErrorSubmit:function(e,t,a){Object(j.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},c.a.createElement(x.a.Row,null,c.a.createElement(x.a.Group,{as:u.a,md:"12"},c.a.createElement(x.a.Label,{htmlFor:"descripcion"},"Descripci\xf3n"),c.a.createElement(y.TextInput,{name:"descripcion",id:"descripcion",required:!0,value:p.descripcion,onChange:f,errorMessage:"Campo obligatorio",placeholder:"Descripci\xf3n",autoComplete:"off",style:{textTransform:"capitalize"},type:"text"})),t.tipo_documentoId>0&&c.a.createElement(x.a.Group,{as:u.a,md:"12"},c.a.createElement(x.a.Label,{htmlFor:"estadoId"},"Estado"),c.a.createElement(y.SelectGroup,{name:"estadoId",id:"estadoId",value:p.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:f},c.a.createElement("option",{value:""},"Seleccione un estado"),c.a.createElement("option",{value:"1"},"Activo"),c.a.createElement("option",{value:"2"},"Inactivo"))),c.a.createElement("div",{className:"col-sm-3"}),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"button",onClick:function(){r(!1)},className:"btn btn-warning"}," Cancelar")),c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.tipo_documentoId>0?"Actualizar":"Registrar")))))))},C=a(88),T=function(){var e=Object(E.d)((function(e){return e})),t=Object(n.useState)(!0),a=Object(l.a)(t,2),r=a[0],f=a[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),x=g[0],y=g[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),S=T[0],_=T[1],A=Object(n.useState)([]),D=Object(l.a)(A,2),M=D[0],z=D[1],B={tipo_documentoId:"",descripcion:"",estadoId:1},F=Object(n.useState)(B),G=Object(l.a)(F,2),q=G[0],H=G[1],J=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.find((function(e){return 3===e.accesoId}))){e.next=6;break}return f(!0),e.next=4,Object(O.a)("tipodocumento?estadoId=1;2");case 4:(t=e.sent)&&z(t);case 6:f(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(null===e||void 0===e?void 0:e.accesos){var t=e.accesos.filter((function(e){return 5===e.menuId}));y(t)}f(!1)}()}),[]),Object(n.useEffect)((function(){J()}),[x]),c.a.createElement(I.a,null,c.a.createElement(s.a,{className:"btn-page"},c.a.createElement(u.a,{sm:12},c.a.createElement(m.a,null,c.a.createElement(m.a.Header,null,c.a.createElement(m.a.Title,{as:"h5"},"Tipos de documentos de identificaci\xf3n")),c.a.createElement(m.a.Body,null,!0===r?c.a.createElement(w.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:"align-items-center m-l-0"},c.a.createElement(u.a,null),c.a.createElement(u.a,{className:"text-right"},x.find((function(e){return 1===e.accesoId}))&&c.a.createElement(d.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){_(!0),H(B)}},c.a.createElement("i",{className:"feather icon-plus"})," Agregar Tipo Documento"))),x.find((function(e){return 3===e.accesoId}))?c.a.createElement(p.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"mytable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"C\xf3digo"),c.a.createElement("th",null,"Descripci\xf3n"),c.a.createElement("th",null,"Estado"),x.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&c.a.createElement("th",null))),c.a.createElement("tbody",null,M.map((function(e){var t=e.tipo_documentoId,a=e.descripcion,n=e.Estado.descripcion;return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t),c.a.createElement("td",null,a),c.a.createElement("td",null,n),x.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&c.a.createElement("td",{style:{textAlign:"center"}},x.find((function(e){return 2===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=M.find((function(t){return t.tipo_documentoId===e})),a=t.tipo_documentoId,n=t.descripcion,c=t.estadoId;H({tipo_documentoId:a,descripcion:n,estadoId:c}),_(!0)}(t)}},c.a.createElement("i",{className:"feather icon-edit"})),x.find((function(e){return 4===e.accesoId}))&&c.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=t,h()(b.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var t=Object(i.a)(o.a.mark((function t(a){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=8;break}return t.next=4,Object(O.a)("tipodocumento/".concat(e),{method:"DELETE"});case 4:(n=t.sent)&&(Object(j.b)(n),c=M.filter((function(t){return t.tipo_documentoId!==e})),z(c)),t.next=9;break;case 8:Object(j.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},c.a.createElement("i",{className:"feather icon-trash-2"}))))})))):c.a.createElement(C.a,null)),!0===S&&c.a.createElement(k,{abrirModal:S,setAbrirModal:_,GetTiposIdentificaciones:J,dataInicial:q}))))))};t.default=function(){return c.a.createElement(T,null)}},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),c=a.n(n),r=a(77),o=a(21),i=a(539),l=a(15),s=function(){return c.a.createElement(l.a,null,c.a.createElement(r.a,null,c.a.createElement(o.a,null,c.a.createElement(i.a,{variant:"danger"},c.a.createElement(i.a.Heading,{as:"h4"},"Informaci\xf3n!"),c.a.createElement("p",null,"No esta autorizado para poder visualizar los elementos"),c.a.createElement("hr",null),c.a.createElement("p",{className:"mb-0"},"Comuniquese con el administrador para la asignaci\xf3n de permisos")))))}}}]);
//# sourceMappingURL=30.4c649ec5.chunk.js.map